# PawPal AI 数据指标定义

> **版本**: v1.5  
> **更新日期**: 2026-02-06  
> **用途**: 定义AI功能的核心数据指标，用于产品优化和效果评估  
> **状态**: 已开发完成 | 测试验证阶段  

---

## 目录

1. [核心指标](#1-核心指标)
2. [问卷模块指标](#2-问卷模块指标)
3. [匹配模块指标](#4-匹配模块指标)
4. [预审模块指标](#5-预审模块指标)
5. [技术指标](#6-技术指标)
6. [业务指标](#7-业务指标)
7. [数据埋点设计](#8-数据埋点设计)

---

## 1. 核心指标 (North Star Metrics)

### 1.1 领养成功率

| 指标名 | adoption_success_rate |
|--------|----------------------|
| **定义** | AI推荐用户的领养申请通过且最终完成领养的比例 |
| **计算公式** | 成功领养数 / AI推荐申请数 × 100% |
| **目标值** | > 60% |
| **当前值** | - |
| **采集方式** | 追踪从AI推荐到领养完成的全链路 |
| **更新频率** | 每周 |

### 1.2 用户满意度

| 指标名 | user_satisfaction_score |
|--------|------------------------|
| **定义** | 用户对AI推荐和服务的满意度评分 |
| **计算公式** | 平均评分 (1-5分) |
| **目标值** | > 4.0 |
| **采集方式** | 问卷完成后NPS评分、推荐后反馈 |
| **更新频率** | 每月 |

---

## 2. 问卷模块指标

### 2.1 问卷启动率

| 指标名 | questionnaire_start_rate |
|--------|-------------------------|
| **定义** | 看到问卷入口的用户中，实际启动问卷的比例 |
| **计算公式** | 启动问卷用户数 / 看到入口用户数 × 100% |
| **目标值** | > 30% |
| **埋点事件** | `ai_questionnaire_start` |

### 2.2 问卷完成率

| 指标名 | questionnaire_completion_rate |
|--------|------------------------------|
| **定义** | 启动问卷的用户中，完成全部问题的比例 |
| **计算公式** | 完成问卷用户数 / 启动问卷用户数 × 100% |
| **目标值** | > 70% |
| **当前值** | - |
| **埋点事件** | `ai_questionnaire_complete` |

### 2.3 问卷平均轮数

| 指标名 | questionnaire_avg_turns |
|--------|------------------------|
| **定义** | 用户完成问卷的平均对话轮数 |
| **计算公式** | 总对话轮数 / 完成用户数 |
| **目标值** | 6-8轮 |
| **埋点事件** | `ai_questionnaire_turn` |

### 2.4 问卷平均耗时

| 指标名 | questionnaire_avg_time |
|--------|-----------------------|
| **定义** | 用户完成问卷的平均时间 |
| **计算公式** | 总耗时 / 完成用户数 |
| **目标值** | < 3分钟 |
| **埋点事件** | `ai_questionnaire_complete` (带duration参数) |

### 2.5 跳过率

| 指标名 | questionnaire_skip_rate |
|--------|------------------------|
| **定义** | 用户跳过问题的比例 |
| **计算公式** | 跳过次数 / 总问题数 × 100% |
| **目标值** | < 20% |
| **埋点事件** | `ai_questionnaire_skip` |

### 2.6 画像完整度

| 指标名 | profile_completeness |
|--------|---------------------|
| **定义** | 提取的20维画像中，有效字段的比例 |
| **计算公式** | 有效字段数 / 20 × 100% |
| **目标值** | > 80% |
| **采集方式** | 后端计算 |

---

## 3. 匹配模块指标

### 3.1 推荐曝光率

| 指标名 | recommendation_exposure_rate |
|--------|-----------------------------|
| **定义** | 完成问卷的用户中，看到推荐结果的比例 |
| **计算公式** | 看到推荐用户数 / 完成问卷用户数 × 100% |
| **目标值** | > 95% |
| **埋点事件** | `ai_recommendation_view` |

### 3.2 推荐点击率

| 指标名 | recommendation_ctr |
|--------|-------------------|
| **定义** | 看到推荐的用户中，点击任意推荐宠物的比例 |
| **计算公式** | 点击用户数 / 看到推荐用户数 × 100% |
| **目标值** | > 50% |
| **埋点事件** | `ai_recommendation_click` |

### 3.3 Top-1 点击率

| 指标名 | top1_click_rate |
|--------|----------------|
| **定义** | 用户点击第一个推荐宠物的比例 |
| **计算公式** | 点击Top-1用户数 / 看到推荐用户数 × 100% |
| **目标值** | > 40% |
| **埋点事件** | `ai_recommendation_click` (带position=1参数) |

### 3.4 匹配分数分布

| 指标名 | match_score_distribution |
|--------|-------------------------|
| **定义** | 推荐结果的匹配分数分布 |
| **分段** | 90-100(完美), 80-89(优秀), 70-79(良好), 60-69(一般), <60(较差) |
| **目标分布** | 90-100: 30%, 80-89: 40%, 70-79: 20%, 其他: 10% |
| **采集方式** | 后端统计 |

### 3.5 硬性条件通过率

| 指标名 | hard_constraint_pass_rate |
|--------|--------------------------|
| **定义** | 推荐结果中通过硬性条件的比例 |
| **计算公式** | 通过硬性条件的推荐数 / 总推荐数 × 100% |
| **目标值** | > 90% |
| **采集方式** | 后端统计 |

### 3.6 推荐到申请转化率

| 指标名 | recommendation_to_application_rate |
|--------|-----------------------------------|
| **定义** | 点击推荐的用户中，最终提交申请的比例 |
| **计算公式** | 提交申请数 / 点击推荐数 × 100% |
| **目标值** | > 30% |
| **埋点事件** | `application_submit` (带source=ai_recommendation参数) |

---

## 4. 预审模块指标

### 4.1 预审启动率

| 指标名 | precheck_start_rate |
|--------|--------------------|
| **定义** | 查看宠物的用户中，启动预审的比例 |
| **计算公式** | 启动预审数 / 查看宠物详情数 × 100% |
| **目标值** | > 40% |
| **埋点事件** | `ai_precheck_start` |

### 4.2 预审完成率

| 指标名 | precheck_completion_rate |
|--------|-------------------------|
| **定义** | 启动预审的用户中，完成全部流程的比例 |
| **计算公式** | 完成预审数 / 启动预审数 × 100% |
| **目标值** | > 80% |
| **埋点事件** | `ai_precheck_complete` |

### 4.3 预审通过率

| 指标名 | precheck_pass_rate |
|--------|-------------------|
| **定义** | 完成预审的用户中，AI建议通过的比例 |
| **计算公式** | 预审通过数 / 完成预审数 × 100% |
| **目标值** | 60-70% |
| **采集方式** | 后端统计 |

### 4.4 预审分数分布

| 指标名 | precheck_score_distribution |
|--------|----------------------------|
| **定义** | 预审结果的分数分布 |
| **分段** | ≥80(通过), 60-79(复核), <60(拒绝) |
| **目标分布** | 通过: 60%, 复核: 30%, 拒绝: 10% |
| **采集方式** | 后端统计 |

### 4.5 风险点识别率

| 指标名 | risk_identification_rate |
|--------|-------------------------|
| **定义** | 预审中成功识别风险点的比例 |
| **计算公式** | 识别风险数 / 实际风险数 × 100% |
| **目标值** | > 85% |
| **采集方式** | 人工标注样本验证 |

### 4.6 人工复核率

| 指标名 | manual_review_rate |
|--------|-------------------|
| **定义** | 需要人工复核的预审比例 |
| **计算公式** | 复核数 / 完成预审数 × 100% |
| **目标值** | < 30% |
| **采集方式** | 后端统计 |

### 4.7 预审到申请转化率

| 指标名 | precheck_to_application_rate |
|--------|-----------------------------|
| **定义** | 完成预审的用户中，提交正式申请的比例 |
| **计算公式** | 提交申请数 / 完成预审数 × 100% |
| **目标值** | > 50% |
| **埋点事件** | `application_submit` (带source=ai_precheck参数) |

---

## 5. 技术指标

### 5.1 API响应时间

| 指标名 | api_response_time |
|--------|------------------|
| **定义** | AI相关API的响应时间 |
| **分位** | P50, P95, P99 |
| **目标值** | P95 < 1s |
| **采集方式** | 服务端日志 |

| 接口 | P95目标 |
|------|---------|
| /questionnaire/next | < 500ms |
| /match/recommendations | < 1s |
| /precheck/message | < 500ms |

### 5.2 LLM调用成功率

| 指标名 | llm_success_rate |
|--------|-----------------|
| **定义** | LLM API调用成功的比例 |
| **计算公式** | 成功调用数 / 总调用数 × 100% |
| **目标值** | > 99% |
| **采集方式** | 服务端日志 |

### 5.3 Fallback触发率

| 指标名 | fallback_trigger_rate |
|--------|----------------------|
| **定义** | LLM失败触发Fallback的比例 |
| **计算公式** | Fallback次数 / 总调用数 × 100% |
| **目标值** | < 1% |
| **采集方式** | 服务端日志 |

### 5.4 Embedding计算时间

| 指标名 | embedding_compute_time |
|--------|-----------------------|
| **定义** | Embedding向量计算的平均时间 |
| **目标值** | < 200ms |
| **采集方式** | 服务端日志 |

### 5.5 错误率

| 指标名 | error_rate |
|--------|-----------|
| **定义** | AI相关API的错误率 |
| **计算公式** | 5xx错误数 / 总请求数 × 100% |
| **目标值** | < 0.1% |
| **采集方式** | 服务端日志 |

---

## 6. 业务指标

### 6.1 AI功能使用率

| 指标名 | ai_feature_usage_rate |
|--------|----------------------|
| **定义** | 使用AI功能的活跃用户比例 |
| **计算公式** | 使用AI功能用户数 / 活跃用户数 × 100% |
| **目标值** | > 50% |
| **采集方式** | 埋点统计 |

### 6.2 AI来源申请占比

| 指标名 | ai_application_share |
|--------|---------------------|
| **定义** | 来自AI推荐的申请占总申请的比例 |
| **计算公式** | AI来源申请数 / 总申请数 × 100% |
| **目标值** | > 40% |
| **采集方式** | 申请记录标记来源 |

### 6.3 AI申请通过率

| 指标名 | ai_application_approval_rate |
|--------|-----------------------------|
| **定义** | AI推荐用户的申请通过率 |
| **计算公式** | AI来源通过数 / AI来源申请数 × 100% |
| **目标值** | > 普通申请通过率 + 10% |
| **采集方式** | 申请记录关联AI标签 |

### 6.4 退养率

| 指标名 | return_rate |
|--------|------------|
| **定义** | AI推荐领养后的退养/弃养比例 |
| **计算公式** | 退养数 / AI推荐成功领养数 × 100% |
| **目标值** | < 5% |
| **采集方式** | 长期追踪 |

### 6.5 用户留存率

| 指标名 | user_retention_rate |
|--------|--------------------|
| **定义** | 使用AI功能的用户7日/30日留存 |
| **目标值** | 7日 > 60%, 30日 > 40% |
| **采集方式** | 用户行为分析 |

---

## 7. 数据埋点设计

### 7.1 埋点事件列表

| 事件名 | 触发时机 | 参数 |
|--------|----------|------|
| `ai_questionnaire_start` | 点击启动问卷 | user_id, source_page |
| `ai_questionnaire_turn` | 每轮对话 | user_id, turn_number, field |
| `ai_questionnaire_skip` | 点击跳过 | user_id, field |
| `ai_questionnaire_complete` | 完成问卷 | user_id, duration, turns |
| `ai_recommendation_view` | 看到推荐结果 | user_id, pet_count |
| `ai_recommendation_click` | 点击推荐宠物 | user_id, pet_id, position, score |
| `ai_precheck_start` | 启动预审 | user_id, pet_id |
| `ai_precheck_message` | 发送预审消息 | user_id, session_id, turn |
| `ai_precheck_complete` | 完成预审 | user_id, session_id, score, result |
| `ai_feedback_submit` | 提交反馈 | user_id, feature, rating, comment |

### 7.2 用户属性

| 属性名 | 说明 |
|--------|------|
| `ai_user_type` | 用户类型: new/experienced |
| `ai_profile_completeness` | 画像完整度: 0-100 |
| `ai_last_match_score` | 上次匹配最高分数 |
| `ai_precheck_history` | 预审历史次数 |

### 7.3 埋点示例

```javascript
// 问卷完成埋点
track('ai_questionnaire_complete', {
  user_id: 'user_123',
  duration: 120,  // 秒
  turns: 7,
  profile_completeness: 85,  // %
  source_page: 'home_banner'
});

// 推荐点击埋点
track('ai_recommendation_click', {
  user_id: 'user_123',
  pet_id: 'pet_456',
  position: 1,  // Top-1
  match_score: 87.5,
  hard_constraint_passed: true
});
```

---

## 8. 数据看板设计

### 8.1 实时看板

| 指标 | 更新频率 |
|------|----------|
| 当前在线问卷用户数 | 实时 |
| 当前正在预审会话数 | 实时 |
| API QPS | 实时 |
| 平均响应时间 | 1分钟 |
| 错误率 | 1分钟 |

### 8.2 日报看板

| 指标 | 说明 |
|------|------|
| 问卷启动数/完成数/完成率 | 当日 |
| 推荐曝光数/点击数/点击率 | 当日 |
| 预审启动数/完成数/通过率 | 当日 |
| 平均匹配分数 | 当日 |
| LLM调用次数/成功率 | 当日 |

### 8.3 周报看板

| 指标 | 说明 |
|------|------|
| 周环比趋势 | 各核心指标周环比 |
| 用户满意度 | NPS评分 |
| 功能使用率 | 各功能使用占比 |
| 问题分布 | 常见问题类型 |

### 8.4 月度复盘

| 指标 | 说明 |
|------|------|
| 领养成功率 | 月度统计 |
| AI贡献度 | AI来源领养占比 |
| 模型效果 | 匹配准确率评估 |
| 用户反馈 | 满意度+建议汇总 |

---

## 9. A/B测试指标

### 9.1 测试指标定义

| 测试项 | 主要指标 | 次要指标 |
|--------|----------|----------|
| 问卷长度 | 完成率 | 平均耗时、画像完整度 |
| 推荐数量 | 点击率 | 转化率、选择困难度 |
| 解释详细度 | 转化率 | 满意度、完成率 |
| Prompt版本 | 完成率 | 画像质量、用户反馈 |

### 9.2 统计显著性

- 置信水平: 95%
- 最小样本量: 每组1000用户
- 测试周期: 至少1周

---

**文档维护记录**

| 日期 | 版本 | 修改内容 | 作者 |
|------|------|----------|------|
| 2026-02-06 | v2.0 | 初始版本 | AI产品实习生 |
